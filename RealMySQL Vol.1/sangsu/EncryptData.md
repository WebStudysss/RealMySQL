# 데이터 암호화

데이터 암호화는 현 시대에 실제 데이터가 탈취당했을 때 정보를 그대로 노출하지 않도록 하기 위해 필수적인 요건이다.
MySQL 5.7 버전 까지는 데이터 파일만 암호화를 지원했다면, 현재 8.0 이상 버전부터는 언두, 리두, 바이너리 로그 등 모두 암호화를 지원한다.

## MySQL 서버의 데이터 암호화

MySQL 서버에서는 데이터를 읽고 쓰는 지점에서만 암/복호화가 적용된다. 따라서 암호화된 테이블도 그렇지 않은 테이블과 동일한 처리과정을 거치게 된다. 암호화 기능이 켜져있던 꺼져있던 사용자가 보는 데이터는 다르지 않은 이 방식을 TDE(Transparent Data Encryption)이라고 한다.

## 2단계 키관리

키링 플러그인에 의해 관리되며 디스크에 존재하는 테이블 데이터에 암,복호화 하기 위해 사용되는 대칭 키이다.
키는 마스터키, 테이블스페이스 키라는 두 종류의 키를 갖고 있으며, 마스터키는 말 그대로 전체 테이블에 적용될 수 있는 하나의 키 방식, 테이블 스페이스 키는 테이블을 생성할 때마다 생기는 각각의 키가 존재한다.

## 암호화와 성능

MySQL 서버의 암호화는 TDE 방식이기 때문에 디스크 I/O작업이 일어날 때만 암/복호화가 일어나는데,
Insert 시에는 백그라운드에서 실제 디스크 쓰기 작업이 일어나기 때문에 사용자는 속도 차이를 느낄 수 없으며, Select 시에는 버퍼풀로 읽어와 보여줘야 하기에 복호화 지연이 발생한다.싱글 디짓 퍼센트(한 자리 %) 정도 성능 저하

## 언두 로그 및 리두 로그, 바이너리로그 암호화

언두로그, 리두로그, 바이너리로그 는 TDE 방식의 암호화 방식과 달리, 옵션 기준으로만 당시 시점부터 암/복호화가 적용된다.
